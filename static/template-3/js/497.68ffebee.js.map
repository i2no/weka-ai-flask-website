{"version":3,"file":"js/497.68ffebee.js","mappings":"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","sources":["webpack://pc_website/./src/utils/tools.js","webpack://pc_website/./src/views/list/list.vue","webpack://pc_website/./src/views/list/list.vue?0c3a"],"sourcesContent":["export const filterImgSrc = (content) => {\n\tif (!content) return false\n\t//匹配图片中的img标签\n\tlet imgReg = /<img.*?(?:>|\\/>)/gi;\n\t// 匹配图片中的src\n\tlet srcReg = /src=[\\'\\\"]?([^\\'\\\"]*)[\\'\\\"]?/i;\n\t//筛选出所有的img\n\tlet arr = content.match(imgReg);\n\tlet srcArr = [];\n\tif (arr && arr.length > 0) {\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tconst src = arr[i].match(srcReg);\n\t\t\t// 获取图片地址中参数s\n\t\t\tconst index = src[1].lastIndexOf('name=');\n\t\t\tconst param = src[1].substring(index + 5, src[1].length);\n\t\t\tsrcArr.push(param);\n\t\t}\n\t}\n\treturn srcArr;\n}\n\nexport const getText = (str) => {\n\tif (!str) return false\n\treturn str.replace(/<[^<>]+>/g, \"\").replace(/&nbsp;/gi, \"\")\n}\n\nexport const getTextByP = (str) => {\n\tif (!str) return false\n\treturn str.replace(/<[^p]+>/g, \"\").replace(/&nbsp;/gi, \"\")\n}\n\nexport const  getParentId = (id, data = JSON.parse(localStorage.getItem('navList')), propName = 'menuId', parentPropName = 'menuId') => {\n\tfor (let i = 0; i < data.length; i++) {\n    const item = data[i];\n\t\tif (Array.isArray(item.childs) && item.childs.length > 0) {\n\t\t\tlet filter = item.childs.filter(item => { return item.menuId == id })[0]\n\t\t\tlet index = item.childs.findIndex(item => { return item.menuId == id })\n\t\t\tif (filter) return { id: item.menuId, type: i, name: item.menuName, index: index }\n\t\t}\n  }\n  return null;\n}","<template>\n\t<div class=\"list-box\">\n\t\t<div \n\t\t\tclass=\"list-item flex-row\" \n\t\t\tv-for=\"(item, index) in pageState.list\" \n\t\t\t:key=\"index\"\n\t\t>\n\t\t\t<!-- 图片 -->\n\t\t\t<div class=\"list-item-thumb flex-row\" v-if=\"item.thumb\">\n\t\t\t\t<img :src=\"item.thumb[0]\" alt=\"\">\n\t\t\t\t<div v-if=\"item.thumb && item.thumb.length === 3\">\n\t\t\t\t\t<img :src=\"item.thumb[1]\" alt=\"\">\n\t\t\t\t\t<img :src=\"item.thumb[2]\" alt=\"\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- 标题 -->\n\t\t\t<div class=\"list-item-info\">\n\t\t\t\t<div class=\"list-item-title\">\n\t\t\t\t\t<div>{{item.articleTitle}}</div>\n\t\t\t\t\t<div class=\"flex-row\">\n\t\t\t\t\t\t<img src=\"@/assets/time.png\" alt=\"\">\n\t\t\t\t\t\t<span>{{item.createTime}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{{item.desc}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"list-item-cat flex-row\" @click=\"goDetail(index, item)\">\n\t\t\t\t\t<span>查看详情</span>\n\t\t\t\t\t<img src=\"@/assets/right.png\" alt=\"\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { defineComponent, onMounted, watchEffect, ref } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport eventBus from '@/utils/eventBus.js'\nimport { selectArticleListByMenuId } from '@/api/api.js'\nimport { filterImgSrc, getText, getParentId } from '@/utils/tools.js'\nexport default defineComponent({\n\tsetup () {\n\t\tconst router = useRouter(), route = useRoute()\n\t\tconst pageState = ref({\n\t\t\tlist: []\n\t\t})\n\t\tonMounted(() => {\n\t\t\teventBus.$emit('content')\n\t\t})\n\t\twatchEffect(() => {\n\t\t\tif (route.query.menuId) {\n\t\t\t\tlet parent = getParentId(route.query.menuId)\n\t\t\t\tlocalStorage.setItem('nav', parent.type)\n\t\t\t\teventBus.$emit('changeNav', parent.type)\n\t\t\t\tlet data = {\n\t\t\t\t\tmenuId: route.query.menuId,\n\t\t\t\t\tpageNum: 1,\n\t\t\t\t\tpageSize: 10\n\t\t\t\t}\n\t\t\t\tselectArticleListByMenuId(data).then((res) => {\n\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\tlet record = res.data.records.map(item => ({\n\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\tdesc: getText(item.content) ? getText(item.content) : null,\n\t\t\t\t\t\t\tthumb: filterImgSrc(item.content)[0] ? `http${filterImgSrc(item.content)[0]}` : null\n\t\t\t\t\t\t}))\n\t\t\t\t\t\tpageState.value.list = record\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\tconst goDetail = (index, item) => {\n\t\t\trouter.push( { path: '/detail', query: { articleId: item.articleId, menuId: route.query.menuId } })\n\t\t}\n\t\treturn {\n\t\t\tpageState,\n\t\t\tgoDetail\n\t\t}\n\t}\n})\n</script>\n\n<style scoped>\n\t.list-box {\n\t\twidth: 100%;\n\t}\n\t.list-item {\n\t\tpadding: 31px 0;\n\t\tborder-bottom: 1px solid #EAEAEA;\n\t}\n\t.list-box .list-item:first-child{\n\t\tpadding-top: 0;\n\t}\n\t.list-item-thumb>img{\n\t\twidth: 328px;\n\t\theight: 278px;\n\t\tmargin-right: 6px;\n\t}\n\t.list-item-thumb div {\n\t\theight: 278px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t}\n\t.list-item-thumb div img {\n\t\twidth: 254px;\n\t\theight: 136px;\n\t}\n\t/* <!-- 标题 --> */\n\t.list-item-info {\n\t\theight: 278px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\tmargin-left: 26px;\n\t}\n\t.list-item-title div:nth-child(1) {\n\t\tfont-size: 18px;\n\t\tfont-weight: 500;\n\t}\n\t.list-item-title div:nth-child(2) {\n\t\tfont-size: 14px;\n\t\tcolor: #666666;\n\t\tmargin: 23px 0;\n\t}\n\t.list-item-title div:nth-child(2) img {\n\t\twidth: 14px;\n\t\theight: 14px;\n\t\tmargin-right: 8px;\n\t}\n\t.list-item-title div:nth-child(3) {\n\t\tfont-size: 14px;\n\t\tcolor: #666666;\n\t}\n\t.list-item-cat {\n\t\twidth: 130px;\n\t\tborder: 1px solid #CBCBCB;\n\t\tjustify-content: center;\n\t\tpadding: 13px 0;\n\t\tfont-size: 14px;\n\t}\n\t.list-item-cat img {\n\t\tmargin-left: 13px;\n\t\twidth: 18px;\n\t\theight: 8px;\n\t}\n\t.list-item-cat:hover {\n\t\tcursor: pointer;\n\t}\n</style>","import { render } from \"./list.vue?vue&type=template&id=acc49942&scoped=true\"\nimport script from \"./list.vue?vue&type=script&lang=js\"\nexport * from \"./list.vue?vue&type=script&lang=js\"\n\nimport \"./list.vue?vue&type=style&index=0&id=acc49942&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.store/vue-loader@17.4.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-acc49942\"]])\n\nexport default __exports__"],"names":["filterImgSrc","content","imgReg","srcReg","arr","match","srcArr","length","i","src","index","lastIndexOf","param","substring","push","getText","str","replace","getTextByP","getParentId","id","data","JSON","parse","localStorage","getItem","propName","parentPropName","item","Array","isArray","childs","filter","menuId","findIndex","type","name","menuName","class","key","_createElementVNode","_imports_0","alt","_imports_1","_hoisted_12","_hoisted_13","_createElementBlock","_hoisted_1","_Fragment","_renderList","_ctx","pageState","list","thumb","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createCommentVNode","_hoisted_7","_hoisted_8","_toDisplayString","articleTitle","_hoisted_9","_hoisted_10","createTime","desc","onClick","$event","goDetail","_hoisted_14","_hoisted_11","defineComponent","setup","router","useRouter","route","useRoute","ref","onMounted","eventBus","$emit","watchEffect","query","parent","setItem","pageNum","pageSize","selectArticleListByMenuId","then","res","code","record","records","map","value","path","articleId","__exports__","render"],"sourceRoot":""}