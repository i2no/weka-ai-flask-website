{"version":3,"file":"js/577.f8e04c0d.js","mappings":"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","sources":["webpack://pc_website/./src/utils/tools.js","webpack://pc_website/./src/views/detail/detail.vue","webpack://pc_website/./src/views/detail/detail.vue?08d7"],"sourcesContent":["export const filterImgSrc = (content) => {\n\tif (!content) return false\n\t//匹配图片中的img标签\n\tlet imgReg = /<img.*?(?:>|\\/>)/gi;\n\t// 匹配图片中的src\n\tlet srcReg = /src=[\\'\\\"]?([^\\'\\\"]*)[\\'\\\"]?/i;\n\t//筛选出所有的img\n\tlet arr = content.match(imgReg);\n\tlet srcArr = [];\n\tif (arr && arr.length > 0) {\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tconst src = arr[i].match(srcReg);\n\t\t\t// 获取图片地址中参数s\n\t\t\tconst index = src[1].lastIndexOf('name=');\n\t\t\tconst param = src[1].substring(index + 5, src[1].length);\n\t\t\tsrcArr.push(param);\n\t\t}\n\t}\n\treturn srcArr;\n}\n\nexport const getText = (str) => {\n\tif (!str) return false\n\treturn str.replace(/<[^<>]+>/g, \"\").replace(/&nbsp;/gi, \"\")\n}\n\nexport const getTextByP = (str) => {\n\tif (!str) return false\n\treturn str.replace(/<[^p]+>/g, \"\").replace(/&nbsp;/gi, \"\")\n}\n\nexport const  getParentId = (id, data = JSON.parse(localStorage.getItem('navList')), propName = 'menuId', parentPropName = 'menuId') => {\n\tfor (let i = 0; i < data.length; i++) {\n    const item = data[i];\n\t\tif (Array.isArray(item.childs) && item.childs.length > 0) {\n\t\t\tlet filter = item.childs.filter(item => { return item.menuId == id })[0]\n\t\t\tlet index = item.childs.findIndex(item => { return item.menuId == id })\n\t\t\tif (filter) return { id: item.menuId, type: i, name: item.menuName, index: index }\n\t\t}\n  }\n  return null;\n}","<template>\n\t<div class=\"detail-box\">\n\t\t<div class=\"title\" v-if=\"pageState.title\">{{pageState.title}}</div>\n\t\t<div v-html=\"pageState.content\"></div>\n\t</div>\n</template>\n\n<script>\nimport { defineComponent, watchEffect, ref, onMounted } from 'vue'\nimport { useRoute } from 'vue-router'\nimport eventBus from '@/utils/eventBus.js'\nimport { selectArticleDetailByMenuId, selectArticleListByMenuId } from '@/api/api.js'\nimport { getParentId } from '@/utils/tools.js'\nexport default defineComponent({\n\tsetup () {\n\t\tconst route = useRoute()\n\t\tconst pageState = ref({\n\t\t\tdetail: {},\n\t\t\ttitle: null\n\t\t})\n\t\tonMounted(() => {\n\t\t\teventBus.$emit('content')\n\t\t})\n\t\twatchEffect(() => {\n\t\t\tif (route.query.menuId) {\n\t\t\t\tlet parent = getParentId(route.query.menuId)\n\t\t\t\tlocalStorage.setItem('nav', parent.type)\n\t\t\t\teventBus.$emit('changeNav', parent.type)\n\t\t\t\tselectArticleDetailByMenuId(route.query.menuId).then((res) => {\n\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\tpageState.value.content = res.data.content\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (route.query.articleId) {\n\t\t\t\tlet data = { articleId: route.query.articleId, menuId: route.query.menuId, pageSize: 10, pageNum: 1 }\n\t\t\t\tselectArticleListByMenuId(data).then((res) => {\n\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\tpageState.value.content = res.data.records[0].content\n\t\t\t\t\t\tpageState.value.title = res.data.records[0].articleTitle\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t})\n\t\treturn {\n\t\t\tpageState\n\t\t}\n\t}\n})\n</script>\n\n<style scoped>\n\t.detail-box {\n\t\twidth: 100%;\n\t}\n\t.detail-box div {\n\t\twidth: 100%;\n\t\tfont-size: 16px;\n\t\tline-height: 32px;\n\t\ttext-indent: 24px;\n\t\tmargin-top: 44px;\n\t}\n\t.title {\n\t\tfont-size: 28px !important;\n\t\ttext-align: center;\n\t\tfont-weight: bold;\n\t}\n</style>\n<style>\n\t.detail-box img {\n\t\twidth: 100% !important;\n\t}\n</style>","import { render } from \"./detail.vue?vue&type=template&id=7f9d60bf&scoped=true\"\nimport script from \"./detail.vue?vue&type=script&lang=js\"\nexport * from \"./detail.vue?vue&type=script&lang=js\"\n\nimport \"./detail.vue?vue&type=style&index=0&id=7f9d60bf&scoped=true&lang=css\"\nimport \"./detail.vue?vue&type=style&index=1&id=7f9d60bf&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.store/vue-loader@17.4.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7f9d60bf\"]])\n\nexport default __exports__"],"names":["filterImgSrc","content","imgReg","srcReg","arr","match","srcArr","length","i","src","index","lastIndexOf","param","substring","push","getText","str","replace","getTextByP","getParentId","id","data","JSON","parse","localStorage","getItem","propName","parentPropName","item","Array","isArray","childs","filter","menuId","findIndex","type","name","menuName","class","key","_createElementBlock","_hoisted_1","_ctx","pageState","title","_hoisted_2","_toDisplayString","_createCommentVNode","_createElementVNode","innerHTML","_hoisted_3","defineComponent","setup","route","useRoute","ref","detail","onMounted","eventBus","$emit","watchEffect","query","parent","setItem","selectArticleDetailByMenuId","then","res","code","value","articleId","pageSize","pageNum","selectArticleListByMenuId","records","articleTitle","__exports__","render"],"sourceRoot":""}