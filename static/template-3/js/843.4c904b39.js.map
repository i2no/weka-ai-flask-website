{"version":3,"file":"js/843.4c904b39.js","mappings":"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","sources":["webpack://pc_website/./src/utils/tools.js","webpack://pc_website/./src/views/news/news.vue","webpack://pc_website/./src/views/news/news.vue?fd84"],"sourcesContent":["export const filterImgSrc = (content) => {\n\tif (!content) return false\n\t//匹配图片中的img标签\n\tlet imgReg = /<img.*?(?:>|\\/>)/gi;\n\t// 匹配图片中的src\n\tlet srcReg = /src=[\\'\\\"]?([^\\'\\\"]*)[\\'\\\"]?/i;\n\t//筛选出所有的img\n\tlet arr = content.match(imgReg);\n\tlet srcArr = [];\n\tif (arr && arr.length > 0) {\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tconst src = arr[i].match(srcReg);\n\t\t\t// 获取图片地址中参数s\n\t\t\tconst index = src[1].lastIndexOf('name=');\n\t\t\tconst param = src[1].substring(index + 5, src[1].length);\n\t\t\tsrcArr.push(param);\n\t\t}\n\t}\n\treturn srcArr;\n}\n\nexport const getText = (str) => {\n\tif (!str) return false\n\treturn str.replace(/<[^<>]+>/g, \"\").replace(/&nbsp;/gi, \"\")\n}\n\nexport const getTextByP = (str) => {\n\tif (!str) return false\n\treturn str.replace(/<[^p]+>/g, \"\").replace(/&nbsp;/gi, \"\")\n}\n\nexport const  getParentId = (id, data = JSON.parse(localStorage.getItem('navList')), propName = 'menuId', parentPropName = 'menuId') => {\n\tfor (let i = 0; i < data.length; i++) {\n    const item = data[i];\n\t\tif (Array.isArray(item.childs) && item.childs.length > 0) {\n\t\t\tlet filter = item.childs.filter(item => { return item.menuId == id })[0]\n\t\t\tlet index = item.childs.findIndex(item => { return item.menuId == id })\n\t\t\tif (filter) return { id: item.menuId, type: i, name: item.menuName, index: index }\n\t\t}\n  }\n  return null;\n}","<template>\n\t<div class=\"list-box\">\n\t\t<div \n\t\t\tclass=\"list-item flex-row\" \n\t\t\tv-for=\"(item, index) in pageState.list\" \n\t\t\t:key=\"index\"\n\t\t\t@click=\"goDetail(index, item)\"\n\t\t>\n\t\t\t<!-- 图片 -->\n\t\t\t<div class=\"list-item-thumb flex-row\" v-if=\"item.thumb\">\n\t\t\t\t<img :src=\"item.thumb\" alt=\"\">\n\t\t\t</div>\n\t\t\t<!-- 标题 -->\n\t\t\t<div class=\"list-item-info\">\n\t\t\t\t<div class=\"list-item-title flex-row\">\n\t\t\t\t\t<div>{{item.articleTitle}}</div>\n\t\t\t\t\t<div class=\"list-item-time flex-row\">\n\t\t\t\t\t\t<img src=\"@/assets/time.png\" alt=\"\">\n\t\t\t\t\t\t<span>{{item.createTime}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"list-item-desc\" v-if=\"item.desc\">\n\t\t\t\t\t{{item.desc}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { defineComponent, onMounted, watchEffect, ref, onUnmounted } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport eventBus from '@/utils/eventBus.js'\nimport { selectArticleListByMenuId } from '@/api/api.js'\nimport { filterImgSrc, getText, getParentId } from '@/utils/tools.js'\nexport default defineComponent({\n\tsetup () {\n\t\tconst router = useRouter(), route = useRoute()\n\t\tconst pageState = ref({\n\t\t\tlist: []\n\t\t})\n\t\tonMounted(() => {\n\t\t\teventBus.$emit('content')\n\t\t})\n\t\twatchEffect(() => {\n\t\t\tif (route.query.menuId) {\n\t\t\t\tlet parent = getParentId(route.query.menuId)\n\t\t\t\tlocalStorage.setItem('nav', parent.type)\n\t\t\t\teventBus.$emit('changeNav', parent.type)\n\t\t\t\tlet data = {\n\t\t\t\t\tmenuId: route.query.menuId,\n\t\t\t\t\tpageNum: 1,\n\t\t\t\t\tpageSize: 10\n\t\t\t\t}\n\t\t\t\tselectArticleListByMenuId(data).then((res) => {\n\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\tlet record = res.data.records.map(item => ({\n\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\tdesc: getText(item.content) ? getText(item.content) : null,\n\t\t\t\t\t\t\tthumb: filterImgSrc(item.content)[0] ? `http${filterImgSrc(item.content)[0]}` : null\n\t\t\t\t\t\t}))\n\t\t\t\t\t\tpageState.value.list = record\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\tconst goDetail = (index, item) => {\n\t\t\trouter.push( { path: '/detail', query: { articleId: item.articleId, menuId: route.query.menuId } })\n\t\t}\n\t\tonUnmounted(() => {\n\t\t})\n\t\treturn {\n\t\t\tpageState,\n\t\t\tgoDetail\n\t\t}\n\t}\n})\n</script>\n\n<style scoped>\n\t.list-box {\n\t\twidth: 100%;\n\t}\n\t.list-item {\n\t\twidth: 100%;\n\t\tpadding: 19px 0;\n\t\tborder-bottom: 1px solid #EAEAEA;\n\t}\n\t.list-box .list-item:first-child{\n\t\tpadding-top: 0;\n\t}\n\t.list-item-thumb>img{\n\t\twidth: 176px;\n\t\theight: 115px;\n\t\tmargin-right: 6px;\n\t}\n\t/* <!-- 标题 --> */\n\t.list-item-info {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmargin-left: 26px;\n\t}\n\t.list-item-title {\n\t\twidth: 100%;\n\t\tjustify-content: space-between;\n\t}\n\t.list-item-title div:nth-child(1) {\n\t\tfont-size: 18px;\n\t\tfont-weight: 500;\n\t}\n\t.list-item-time {\n\t\tfont-size: 14px;\n\t\tcolor: #666666;\n\t}\n\t.list-item-time img {\n\t\twidth: 14px;\n\t\theight: 14px;\n\t\tmargin-right: 8px;\n\t}\n\t.list-item-desc {\n\t\tpadding-top: 19px;\n\t\tcolor: #666;\n\t\tfont-size: 14px;\n\t\tline-height: 19px;\n\t}\n\t.list-item:hover {\n\t\tcursor: pointer;\n\t}\n</style>","import { render } from \"./news.vue?vue&type=template&id=2c67cad3&scoped=true\"\nimport script from \"./news.vue?vue&type=script&lang=js\"\nexport * from \"./news.vue?vue&type=script&lang=js\"\n\nimport \"./news.vue?vue&type=style&index=0&id=2c67cad3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.store/vue-loader@17.4.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2c67cad3\"]])\n\nexport default __exports__"],"names":["filterImgSrc","content","imgReg","srcReg","arr","match","srcArr","length","i","src","index","lastIndexOf","param","substring","push","getText","str","replace","getTextByP","getParentId","id","data","JSON","parse","localStorage","getItem","propName","parentPropName","item","Array","isArray","childs","filter","menuId","findIndex","type","name","menuName","class","key","_createElementVNode","_imports_0","alt","_createElementBlock","_hoisted_1","_Fragment","_renderList","_ctx","pageState","list","onClick","$event","goDetail","thumb","_hoisted_3","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_6","_toDisplayString","articleTitle","_hoisted_7","_hoisted_8","createTime","desc","_hoisted_9","_hoisted_2","defineComponent","setup","router","useRouter","route","useRoute","ref","onMounted","eventBus","$emit","watchEffect","query","parent","setItem","pageNum","pageSize","selectArticleListByMenuId","then","res","code","record","records","map","value","path","articleId","onUnmounted","__exports__","render"],"sourceRoot":""}